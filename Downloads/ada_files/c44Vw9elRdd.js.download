;/*FB_PKG_DELIM*/

__d("MessengerRedirectOnClick",["MRedirectToNative","MRequest","MSiteMessengerDiodeTypedLogger","URI","XMSiteDiodeMessengerLoggingController"],(function(a,b,c,d,e,f,g){var h;function i(a,b,c){d("MRedirectToNative").redirect(a,{returnToFeed:b,newTab:c})}a={logClick:function(a,b,d,e,f){a.onclick=function(){new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("redirect_button_click").setMessagingEntryPoint(b).setBadgeCount(d).setUnreadCount(e).setExtra(f).log()}},register:function(a,b,d,e,f,g,j,k){b.onclick=function(){var b=c("XMSiteDiodeMessengerLoggingController").getURIBuilder().setBool("log",!0).getURI();new(c("MRequest"))(b).send();b=!e;if(e){new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("fast_app_switch_attempt").setMessagingEntryPoint(d).setMsiteDiodeStateFromClient(f).log();var g=new(h||(h=c("URI")))(a);i(g,k,b)}}},setReturnToFeed:function(a,b){d("MRedirectToNative").setReturnToFeed(a,{returnToFeed:b,newTab:!0})}};b=a;g["default"]=b}),98);
__d("MBreakupUnfriendFlyoutClickListener",["MDOM","MRequest","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MDOM").listen(a,"click",null,function(){new(c("MRequest"))(b).send(),e.remove()});c("Stratcom").listen("m:page:unload",null,function(){c("Stratcom").removeCurrentListener(),e&&e.remove()})}g.bindListener=a}),98);
__d("MProfileFriendingToggleButton",["MDOM","MFriendingActionError","Stratcom","destroyOnUnload","ge"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,e){var f=this;this.$4=function(){f.$1&&d("MDOM").hide(f.$1),f.$2&&d("MDOM").show(f.$2),f.$7()};this.$6=function(){f.$2&&d("MDOM").hide(f.$2),f.$1&&d("MDOM").show(f.$1)};this.$5=function(a){a=a.getData();if(a.userid!==f.$3)return;a.action==="cancel"&&(f.$2&&d("MDOM").hide(f.$2),f.$1&&d("MDOM").show(f.$1));if(a.error===d("MFriendingActionError").SEND_OUTGOING_REQUEST_ERROR||a.error===d("MFriendingActionError").CONFIRM_INCOMING_REQUEST_ERROR){f.$6();return}if(a.error===d("MFriendingActionError").CANCEL_OUTGOING_REQUEST_ERROR){f.$4();return}};this.$1=a;this.$2=b;this.$3=e;var g=[d("MDOM").listen(this.$1,"click",null,this.$4.bind(this)),c("Stratcom").listen("friending_state_change",null,this.$5.bind(this))];this.$2&&g.push(d("MDOM").listen(this.$2,"click",null,this.$6.bind(this)));c("destroyOnUnload")(function(){f.$1=null;f.$2=null;while(g.length)g.pop().remove()})}var b=a.prototype;b.$7=function(){var a=c("ge")("pymkMProfile");a&&d("MDOM").remove(a)};return a}();g["default"]=a}),98);
__d("MProfileIntroCardLogging",["BanzaiLogger","MDOM","MLegacyDataStore","destroyOnUnload"],(function(a,b,c,d,e,f,g){function a(a,b,e,f){var g=d("MDOM").listen(a,"click",e,function(a){a=a.getNode(e);a=a?d("MLegacyDataStore").get(a):null;c("BanzaiLogger").log(b,babelHelpers["extends"]({},f,a))});c("destroyOnUnload")(function(){return g.remove()})}g.init=a}),98);
__d("XProfileTilesLogDismissController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/tiles/log/dismiss/",{section_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MProfileTileActions",["csx","cx","MCSS","MDOM","MRequest","XProfileTilesLogDismissController"],(function(a,b,c,d,e,f,g,h,i){function a(a,b){var e=a.querySelector("._lvb");e!==null&&d("MDOM").listen(e,"click",null,function(d){c("MCSS").addClass(a,"_3n40");d=c("XProfileTilesLogDismissController").getURIBuilder().setEnum("section_type",b);new(c("MRequest"))(d.getURI()).setMethod("POST").send()})}g.addCollapseListeners=a}),98);
__d("MProfileTilesLogging",["BanzaiLogger","MDOM","MLegacyDataStore","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h="TimelineExpandedContextLoggerConfig",i="expanded-context-log";function a(a){var b=d("MDOM").listen(a,"click",i,function(a){return c("BanzaiLogger").log(h,d("MLegacyDataStore").get(a.getNode(i)))});c("destroyOnUnload")(function(){return b.remove()})}g.init=a}),98);
__d("MTimelineActionBar",["MLegacyDataStore","MParent","MarauderLogger","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h="hq-profile-logging-action-bar-button";a=function(){function a(){var b=c("Stratcom").listen("click",[h],a.$1);c("destroyOnUnload")(function(){return b&&b.remove()})}a.$1=function(a){a=a.getTarget();a=a instanceof Element?d("MParent").bySigil(a,h):null;if(a==null)return;a=d("MLegacyDataStore").get(a);a=a["hq-profile-logging"];d("MarauderLogger").log("profile_high_quality_action",void 0,a)};return a}();g["default"]=a}),98);
__d("MTimelineShareProfile",["fbt","Clipboard","MLegacyDataStore","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){var i="share_profile_link";function a(){var a=c("Stratcom").listen("click",i,function(a){a=d("MLegacyDataStore").get(a.getNode(i));d("Clipboard").isSupported()&&d("Clipboard").copy(a.uri)?prompt(h._("The following link has been copied to your clipboard."),a.uri):prompt(h._("Tap and hold the link below to select and copy the address."),a.uri)});c("destroyOnUnload")(function(){a.remove()})}g.init=a}),98);
__d("MTimelineUnfriendConfirmation",["fbt","MLegacyDataStore","MRequest","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){var i="unfriend",j;function a(){if(j)return;j=c("Stratcom").listen("click",i,function(a){a=d("MLegacyDataStore").get(a.getNode(i));var b=h._("Are you sure you want to remove {name} as your friend?",[h._param("name",a.shortName)]);confirm(b.toString())&&new(c("MRequest"))(a.unfriendURI).send()});c("destroyOnUnload")(function(){j&&j.remove(),j=null})}g.init=a}),98);
__d("MTimelineUnit",["EventListener","MCSS","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a,b){c("MCSS").conditionClass(a,"deleting",!0);c("setTimeoutAcrossTransitions")(c("MCSS").conditionClass.bind(null,a,"deleted",!0),0);if(b)var d=c("EventListener").capture(a,"transitionend",function(){d.remove(),b(a)})}g.hideOffScreen=a}),98);
__d("TimelineFeedTrackingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1845977");b=d("FalcoLoggerInternal").create("timeline_feed_tracking",a);e=b;g["default"]=e}),98);
__d("MTimelineViewportTracking",["cx","DataAttributeUtils","MCSS","MEntstreamViewportTracking","MFBJSON","StratcomManager","TimelineFeedTrackingFalcoEvent","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$MTimelineViewportTracking$p_2=function(a){c("MCSS").addClass(a,"_1tl-"),c("MCSS").removeClass(a,"_1tl_"),c("MCSS").removeClass(a,"_1tm0")},b)||babelHelpers.assertThisInitialized(d)}b.init=function(a){d("StratcomManager").enableDispatch(document,"scroll"),new b().init(a)};var e=b.prototype;e.__getStreamRoot=function(){this.$MTimelineViewportTracking$p_1=this.$MTimelineViewportTracking$p_1||document.getElementById("timelineBody")||document.getElementById("root");return this.$MTimelineViewportTracking$p_1};e.getStoryID=function(a){a=c("DataAttributeUtils").getDataFt(a);return!a?null:d("MFBJSON").parse(a,f.id).tl_objid};e.sendDataToLog=function(a){c("TimelineFeedTrackingFalcoEvent").log(function(){return{json_data:JSON.stringify(a),log_type:"impression"}})};e.markStoryRead=function(a){c("setTimeout")(this.$MTimelineViewportTracking$p_2.bind(this,a),1e3)};return b}(c("MEntstreamViewportTracking"));g["default"]=a}),98);
__d("MTimelineXFriendingButton",["MCSS","MDOM","MFriendingActionError","Stratcom","destroyOnUnload","ge"],(function(a,b,c,d,e,f,g){var h,i,j,k;function l(){var a;if(!h)return;a=((a=h.style)==null?void 0:a.display)!=="none";var b=c("ge")("pymkMProfile");c("MCSS").conditionShow(h,!a);i&&c("MCSS").conditionShow(i,a);b&&d("MDOM").remove(b);a||j.hide()}function m(a){c("Stratcom").invoke("m:backnav:invalidate-cached-feed");a=a.getData();if(a.userid!==k)return;(a.error===d("MFriendingActionError").SEND_OUTGOING_REQUEST_ERROR||a.error===d("MFriendingActionError").CANCEL_OUTGOING_REQUEST_ERROR)&&l();a.action==="cancel"&&j.hide()}function a(a,e,f){h=a;i=e.getContext();b=d("MDOM").find(e.getRoot(),"*","cancel-request-button");j=e;k=f;var g=[c("Stratcom").listen("friending_state_change",null,m),d("MDOM").listen(h,"click",null,l),d("MDOM").listen(b,"click",null,l)];c("destroyOnUnload")(function(){h=null;i=null;b=null;i=null;while(g.length)g.pop().remove()})}g.init=a}),98);
__d("MUnitFlyout",["$","MActionBubbleHelper","MCSS","MDOM","MLegacyDataStore","MParent","MTimelineUnit","Stratcom"],(function(a,b,c,d,e,f,g){var h;function a(a){if(h)return;h=a;var b,e="m-unit-popup-opener",f="hidesUnit",g="deletesUnit",i="reportComponentUnit",j="reportUnit",k="action-title",l="action-subtitle";function m(){var a=d("MParent").bySigil(h.getCausalElement(),e);if(a==null)return;a=d("MLegacyDataStore").get(a);var f=c("$")(a.target);c("MCSS").conditionClass(f,"editing",!0);var g=h.getRoot();a=a.editOptions;var i=d("MDOM").scry(t,"a");i.forEach(function(a){d("MActionBubbleHelper").toggleActionBubbleItem(a,!1,"MUnitFlyout",e)});for(i in a)a[i].rel==="dialog"?o(g,i,a[i].uri):n(g,i,a[i].uri),p(g,i,a[i].label,a[i].subtitle,a[i].icon);b=f}function n(a,b,e){a=d("MDOM").find(a,"a",b);a.href=e;a.removeAttribute("rel");c("Stratcom").removeSigil(a,"dialog-link");d("MActionBubbleHelper").toggleActionBubbleItem(a,!!e,"MUnitFlyout",b)}function o(a,b,e){a=d("MDOM").find(a,"a",b);var f=d("MLegacyDataStore").get(a);f.dialogURI=e;a.setAttribute("rel","dialog");c("Stratcom").addSigil(a,"dialog-link");d("MActionBubbleHelper").toggleActionBubbleItem(a,!!e,"MUnitFlyout",b)}function p(a,b,c,e,f){a=d("MDOM").find(a,"a",b);if(c){b=d("MDOM").find(a,"div",k);b&&(b.textContent=c)}if(e){b=d("MDOM").find(a,"div",l);b&&(b.textContent=e)}if(f){c=d("MDOM").find(a,"i");c&&d("MDOM").replace(c,f)}}function q(){b&&(c("MCSS").conditionClass(b,"editing",!1),b=null)}function r(a){var e=a.getNode(f)||a.getNode(g);if(e){var k=b;if(k&&c("Stratcom").hasSigil(k,i)){e=d("MParent").bySigil(k,j);var l=d("MDOM").scry(e,"*",i);l.length<2&&(k=e)}l=a.getNode(g)?function(){k&&d("MDOM").remove(k)}:null;k&&d("MTimelineUnit").hideOffScreen(k,l)}h.hide()}function s(){h&&h.updateIfShown()}var t=a.getRoot(),u=[c("Stratcom").listen("m:page:unload",null,function(){while(u&&u.length>0)u.pop().remove();h=null;b=null;t=null}),c("Stratcom").listen(["m-timeline-rebalance","m-timeline-section-loader:onshow"],null,s),a.addListener("beforeshow",m),a.addListener("hide",q),d("MDOM").listen(t,"click",null,r)]}g.main=a}),98);
__d("MTimelineHScroll",["MDOM","MLegacyDataStore","MLoadingIndicator","MLoadingIndicatorSigils","MRequest","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h=3;a=function(){function a(a){var b=this;this.$1=a;var d=!1;this.$2=null;var e=function(a){b.$2=a.getData().scrollarea,b.$2.isLastPage()&&b.$3()},f=[c("Stratcom").listen("MScrollArea:create",null,function(a){a.getData().element===b.$1&&e(a)}),c("Stratcom").listen("MScrollArea:scrollstart",null,function(a){a.getData().element===b.$1&&!b.$2&&e(a),a.getData().scrollarea===b.$2&&(d||(b.$3(),d=!0))}),c("Stratcom").listen("MScrollArea:scrollend",null,function(a){a.getData().scrollarea===b.$2&&(b.$2.getScrollPageCount()-b.$2.getScrollPageIndex()<=h&&b.$3())})];c("destroyOnUnload")(function(){while(f.length)f.pop().remove()})}var b=a.prototype;b.$3=function(){var a=this,b=d("MDOM").scry(this.$1,"a","hscroll-pager")[0];if(!b||d("MLegacyDataStore").get(b).requestSent)return;new(c("MLoadingIndicator"))(d("MDOM").find(b,"div",c("MLoadingIndicatorSigils").ROOT));var e=new(c("MRequest"))(b.href).setMethod("GET");e.listen("done",function(){return a.$2.reflow("auto")});e.send();d("MLegacyDataStore").set(b,{requestSent:!0})};return a}();g["default"]=a}),98);
__d("MFlyoutAutoHideAfter",["clearTimeout","setTimeout"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=null,this.$2=a,this.$3=null}var c=a.prototype;c.enable=function(){this.$1=[this.$2.addListener("show",this.$4.bind(this)),this.$2.addListener("hide",this.$5.bind(this))],this.$2.isShown()&&this.$4()};c.disable=function(){this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};c.$5=function(){this.$3&&b("clearTimeout")(this.$3),this.$3=null};c.$4=function(){this.$5(),this.$3=b("setTimeout")(this.$2.hide.bind(this.$2),this.$2.config.auto_hide_after*1e3)};return a}();e.exports=a}),null);