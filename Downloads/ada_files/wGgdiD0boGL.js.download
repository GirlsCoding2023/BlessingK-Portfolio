;/*FB_PKG_DELIM*/

__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"StringOrPFBID"},reaction_type:{type:"Enum",enumType:0},reaction_id:{type:"String"},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["cx","fbt","ActorURI","BanzaiLogger","CancelableEventListener","MBlockingTouchable","MCSS","MDOM","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j,k=17,l="_ft_",m={top:.3,bottom:.6},n,o=[],p=function(){function a(a){var b=this,e;this.autoHideOnScroll=function(a){a=b.flyout;if(!a||!a.isShown()){c("Stratcom").removeCurrentListener();return}var d;window.innerHeight?d=window.innerHeight:document.body&&(d=document.body.clientHeight);if(!d)return;var e=a.getContext().getBoundingClientRect().top,f=d*m.top,g=d*m.bottom;(e<f||e>g)&&a.hide()};this.onUnload=function(){b.onHide(),b.pageSubscriptions.release()};this.onClick=function(a){a=a.getNode("reaction-item");a instanceof HTMLElement&&b.select(a)};this.onScreenReaderTrigger=function(a){a=a.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;b.flyout.setContext(a);b.setSupported();b.flyout.show();b.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",b.onClick));a=d("MLiveData").get(d("MLegacyDataStore").get(b.flyout.getContext()).feedbackTarget).getData();a=a.viewerreactionid;var e=null;for(var f=0,g=b.reactionElements.length;f<g;f++){var h=d("MLegacyDataStore").get(b.reactionElements[f]);h=h.reaction_id;a===h&&(e=b.reactionElements[f])}e||(e=b.reactionElements[0]);e.focus()};this.onClickTrigger=function(a){a=a.getTarget();if(!(a instanceof HTMLElement))return;var e=b.flyout;if(e.isShown()){e.hide();return}c("Stratcom").hasSigil(a,"like-reaction-flyout")||(a=d("MParent").bySigil(a,"like-reaction-flyout"));a&&b.setupFlyout(e,a)};this.onClickCapture=function(a){var c=b.flyout;if(c){var e=d("MLegacyDataStore").get(c.getContext());e=e.kaiOSReactions;if(e&&c.isShown()){c.hide();return}}a.stop()};this.onTouchStart=function(a){var e=b.flyout;if(!e.isShown()){var f=document;f=f.body;f&&c("MCSS").addClass(f,"_70ol");b.touchStartX=a.getTouch().clientX;b.timing.touchStartTime=Date.now();b.preventScrollTimeout=c("setTimeout")(function(){b.canScroll=!1},200);b.longpressTimeout=c("setTimeout")(function(){b.timing.shownTime=Date.now();var f=a.getTarget();if(!(f instanceof HTMLElement))return;c("Stratcom").hasSigil(f,"like-reaction-flyout")||(f=d("MParent").bySigil(f,"like-reaction-flyout"));f&&b.setupFlyout(e,f)},300)}};this.onTouchMove=function(a){var c=b.flyout,e=c.getContext()&&d("MLegacyDataStore").get(c.getContext()).isComment;b.canScroll||(e?a.kill():a.prevent());if(!c.isShown())return;a=a.getTouch();var f=a.clientX;a=a.clientY;a=document.elementFromPoint(f,a);if(a){var g=a.nodeName==="I"||a.nodeName==="IMG";if(!(g||b.canScrub)){b.canScrub=Math.abs(b.touchStartX-f)>=25;return}c.getContentRoot().setAttribute("data-longpress",!0);if(c.getContentRoot().contains(a)){if(g){a=(f=a)!=null?(f=f.parentNode)!=null?f.parentNode:f:f}b.active!==a&&d("MLegacyDataStore").get(a).reaction&&(b.isUpdatedDock||e?b.showOverlay(b.overlay&&b.overlay.slide):b.showOverlay(b.overlay&&b.overlay.dots),b.removeActive(),b.active=a,a&&a.setAttribute("data-active","true"))}else(!b.overlay||!b.overlay.container.contains(a))&&(b.removeActive(),b.showOverlay(b.overlay&&b.overlay.release))}};this.onTouchEnd=function(a){var c=b.active;if(c)b.log({finalReaction:d("MLegacyDataStore").get(c).reaction,viaScrubbing:!0}),b.select(c);else{c=a.getTouch();a=c.clientX;c=c.clientY;a=document.elementFromPoint(a,c);c=b.flyout;a&&!(c.getContentRoot().contains(a)||c.getContext().contains(a)||b.overlay&&b.overlay.container.contains(a))&&c.hide()}};this.onWindowClick=function(a){var c;a=a.getNode("reaction-item");a&&(c=d("MLegacyDataStore").get(a).reaction);b.log({finalReaction:c,viaScrubbing:!1})};this.onWindowTouchEnd=function(){var a=b.flyout;a.isShown()?(b.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.onHide=function(){var a=document;a=a.body;a&&c("MCSS").addClass(a,"_70ol");b.canScroll=!0;b.canScrub=!1;b.removeActive();b.removeUFIOverlay();b.flyout.hide();b.flyoutSubscriptions.release();b.flyoutSubscriptions=new(c("SubscriptionsHandler"))()};this.onWindowTouchMove=function(){b.flyout.isShown()||(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=c("MUFIConfig").hasUpdatedDock;this.pageSubscriptions=new(c("SubscriptionsHandler"))();this.flyoutSubscriptions=new(c("SubscriptionsHandler"))();this.assignFlyoutContent();this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),(e=c("Stratcom")).listen("m:page:unload",null,this.onUnload),e.listen("m:viewport:orientation-change",null,this.onHide),e.listen(c("TouchEventType").END,null,this.onWindowTouchEnd),e.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),d("CancelableEventListener").listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove));o.forEach(function(a){return b.addAnchor(a)});n&&this.setNUXTooltip(n);c("MUFIConfig").hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchmove",null,this.onWindowTouchMove))}var b=a.prototype;b.addAnchor=function(a){var b=c("Stratcom").hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,c("TouchEventType").START,null,this.onTouchStart));c("MUFIConfig").hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),d("CancelableEventListener").listen(a,"touchmove","reaction-item",this.onTouchMove))};b.assignFlyoutContent=function(){(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return d("MBlockingTouchable").init(a)}))};b.setupFlyout=function(a,b){var e=d("MLegacyDataStore").get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=d("MParent").bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!e.isComment&&(this.applyMultilineFlyout(),c("MCSS").addClass(b,"_5xt_")),e.isComment&&c("MCSS").addClass(b,"_31rl"));a.show();b=d("MLegacyDataStore").get(a.getContext());a=b.kaiOSReactions;a||this.createUFIOverlay();this.isUpdatedDock||e.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",this.onClick),c("Stratcom").listenCapture("click","like-reaction-flyout",this.onClickCapture),c("Stratcom").listenCapture("click",null,this.onWindowClick));a&&this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("scroll",null,this.autoHideOnScroll));c("MUFIConfig").hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("touchend","like-reaction-flyout",this.onTouchEnd),c("Stratcom").listen("touchend","reaction-item",this.onTouchEnd))};b.select=function(a){var b=this.flyout;b.hide();if(!a)return;a=d("MLegacyDataStore").get(a);var e=a.reaction;a=a.reaction_id;b=b.getContext();var f=d("MLegacyDataStore").get(b),g=f.feedbackTarget;f=f.isComment;var h=d("MLiveData").get(g).getData();if(h.viewerreactionid===a)return;if(f){f=b.getAttribute("data-uri")||b.getAttribute("href");f=d("MUFIRequest").getURI(f);f.addQueryData("reaction_comment_id",d("MUFIReactionsUtils").maybeConvertTokenToFBID(g));f.addQueryData("viewer_reaction",e);f.addQueryData("viewer_reaction_id",a);d("MUFIRequest").send(g,d("MUFIReactionsUtils").getReactionDataForComment(h,e,a),f)}else{f=h.actor_for_post;f!==0&&!f&&(f=null);var i=d("MParent").bySigil(b,"story-div"),k=null;if(i){i=d("MLegacyDataStore").get(i).linkdata;if(i&&c("gkx")("816008")){var m;k=(m={},m[l]=i,m)}}m=babelHelpers["extends"]((i={},i[d("ActorURI").PARAMETER_ACTOR]=f,i.ft_ent_identifier=g,i.reaction_type=e,i.reaction_id=a,i.feedback_source=new(j||(j=c("URI")))(b.getAttribute("data-uri")).getQueryData().feedback_source,i),k);d("MUFIRequest").send(g,d("MUFIReactionsUtils").getReactionData(h,e,a),c("XUFIReactionController").getURIBuilder().getURI(),m,d("MUFIReactionsUtils").getConfigForBackgroundRetry(g))}};b.removeActive=function(){var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};b.applyMultilineFlyout=function(){var a=this.flyout,b=a.getContext();b=d("MParent").bySigil(b,"mufi-inline");a=a.getContentRoot();b=d("MDOM").scry(b,"div","reactions-bling-bar");if(b.length==0){c("MCSS").addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>k?c("MCSS").addClass(a,"_5xu0"):b<k?c("MCSS").addClass(a,"_5xu1"):(c("MCSS").removeClass(a,"_5xu0"),c("MCSS").removeClass(a,"_5xu1"))};b.showOverlay=function(a){var b=this.overlay;if(b&&a){c("MCSS").show(a);for(var d in b){var e=b[d];e!=a&&e!=b.container&&c("MCSS").hide(e)}}};b.log=function(a){var b=d("MLiveData").get(d("MLegacyDataStore").get(this.flyout.getContext()).feedbackTarget).getData(),e=b.ft_ent_identifier;b=b.viewerreaction;var f=this.timing,g=f.touchEndTime,h=f.touchStartTime;f=f.shownTime;if(!g||!h||!f)return;g=g-h;c("BanzaiLogger").log("UserReactionsLoggerConfig",{feedback_id:e,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:g>0?g:0,time_spent:Date.now()-f,via_scrubbing:a.viaScrubbing})};b.createUFIOverlay=function(){var a=this.flyout.getContext(),b=d("MLegacyDataStore").get(a),e=b.feedbackTarget;b=b.isComment;e=(e=d("MLiveData").get(e).getData().supportedreactions)!=null?e:this.getSupportedReactions();var f=document.createElement("div");f.style.display="none";f.className="_403o";e=Math.round(e.length*1.3);for(var g=0;g<e;++g){var h=document.createElement("div");h.className="_403p";f.appendChild(h).className="_403p"}h=document.createElement("div");h.style.display="none";h.className="_5xu2";h.textContent=i._("Tap to Pick Your Reaction").toString();g=document.createElement("div");g.style.display="none";g.className="_5xu2";g.textContent=i._("Slide finger across").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=i._("Release to Cancel").toString();var j=document.createElement("div");j.className="_403n";b&&c("MCSS").addClass(j,"_31ru");j.appendChild(f);j.appendChild(e);(this.isUpdatedDock||b)&&(j.appendChild(h),j.appendChild(g));b=d("MParent").bySigil(a,"ufi-inline-actions");b||(b=d("MParent").bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(j,b.firstChild),this.overlay={container:j,tap:h,slide:g,release:e,dots:f}):this.overlay=null};b.removeUFIOverlay=function(){var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};b.getSupportedReactions=function(){return[1,2,4,3,7,8,16]};b.setSupported=function(){var a,b=d("MLegacyDataStore").get(this.flyout.getContext());a=(a=d("MLiveData").get(b.feedbackTarget).getData().supportedreactions)!=null?a:this.getSupportedReactions();b=(b=d("MLiveData").get(b.feedbackTarget).getData().supportedreaction_ids)!=null?b:[];var e=this.reactionElements;for(var f=0,g=e.length;f<g;++f){var h=e[f],i=d("MLegacyDataStore").get(h),j=i.reaction;i=i.reaction_id;c("MCSS").conditionShow(h,j===17?b.indexOf(i)>=0:a.indexOf(j)>=0)}};b.setNUXTooltip=function(a){this.nuxTooltip=a};return a}(),q;function a(a){q=new p(a)}function b(a){if(q){q.addAnchor(a);return}o.push(a)}function e(a){n=a,q&&q.setNUXTooltip(a)}g.init=a;g.addAnchor=b;g.initNUX=e}),98);
__d("ShareFunnelEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1876820");b=d("FalcoLoggerInternal").create("share_funnel_event",a);e=b;g["default"]=e}),98);
__d("ShareMenuTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:ShareMenuLoggerConfig")}),null);
__d("calculateShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=5;a=function(a){if(!a)return"no_text";var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>g?"significant":"not_significant"};b=a;f["default"]=b}),66);
__d("getJSEnumSafe",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b==null)return null;if(!Object.prototype.hasOwnProperty.call(a,b))return null;b=b;return a[b]}f["default"]=a}),66);
__d("getShareAudienceFromPrivacyString",[],(function(a,b,c,d,e,f){"use strict";a=function(a){switch(a){case null:case void 0:case"unknown":return"unknown";case"286958161406148":return"self";case"300645083384735":return"everyone";case"368493386561757":case"275425949243301":return"fof";case"123780391104836":case"291667064279714":return"friends";default:return"custom"}};b=a;f["default"]=b}),66);
__d("ShareMetricsLoggingController",["ShareMenuTypedLoggerLite","calculateShareSignificance","getShareAudienceFromPrivacyString"],(function(a,b,c,d,e,f,g){"use strict";var h={appid:2220391788200892,name:"feed_share_action"};function a(a){if(!a)return;var b;a.audience==="own"?b=a.privacy:a==="friend"?b="friend_timeline":b=a.audience;a=a.add_to_story?"add_to_story_now":"share_now";j("share_created",a,b,"no_text")}function b(a){if(!a)return;a=a.responseURL&&a.responseURL.includes("add_to_story")?"add_to_story_now":"share_now";j("share_failure",a,null,"no_text")}function d(a,b,d,e,f){var g="unknown";switch(b){case"self":g=c("getShareAudienceFromPrivacyString")(f);break;case"friend":g="friend_timeline";break;case"message":g="messenger";break;case"group":g="group";break;case"page":g="page";break}var h;switch(e){case"share_now_menu/share_to_page":h="share_to_page";break;case"share_now_menu/post_to_group":h="share_to_group";break;case"share_now_menu/send_message":h="send_in_message";break;case"share_now_menu/share_friend_timeline":h="share_to_friend_timeline";break;case"share_now_menu/write_post":h="write_post";break;case"share_now_menu/add_to_story":h="add_to_story";break;case"living_room_sprout":h="start_living_room";break;default:h="unknown";break}b=c("calculateShareSignificance")(d);j(a,h,g,b)}function e(a,b){c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,{fb_share_type:"share_flow_started",shareable_id:a}));return}function f(a,b){c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,{fb_share_type:"share_abandoned",shareable_id:a}));return}function i(a){a.fb_feed_location;a=babelHelpers.objectWithoutPropertiesLoose(a,["fb_feed_location"]);c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,a));return}function j(a,b,d,e){c("ShareMenuTypedLoggerLite").log({fb_share_type:a,fb_entry_point:b,fb_audience:d,fb_significance:e,name:"feed_share_action"})}g.logShareNowResponsePayload=a;g.logShareNowFailure=b;g.logReactComposerEvent=d;g.logShareFlowStarted=e;g.logShareFlowAbandoned=f;g.logShareFunnelEvent=i;g.log=j}),98);
__d("MFeedShareAnalytics",["MSiteMessengerDiodeTypedLogger","MarauderLogger","ShareMetricsLoggingController","Stratcom","calculateShareSignificance","getShareAudienceFromPrivacyString"],(function(a,b,c,d,e,f,g){"use strict";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case"friend":return"share_to_friend_timeline";case"group":return"share_to_group";case"message":return"send_in_message";case"oneclick":return"share_now";case"own":case"self":return"write_post";case"page":case"selfpage":return"share_to_page";case"whatsapp_message":return"share_to_whatsapp";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){var a=this;this._listeners.push(c("Stratcom").listen("m:sharemode:selected",null,function(b){b=b.getData();b&&b.sharemode&&(a._currentShareMode=b.sharemode)}));this._listeners.push(c("Stratcom").listen("m:page:unload",null,function(){a._onTearDown()}))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,d("ShareMetricsLoggingController").log("share_flow_started",null,null,null)},onMenuOptionSelected:function(a,b,e,f){this._initShareMode=a;this._currentShareMode=a;var g=this._entryPointFromShareMode(a);d("ShareMetricsLoggingController").log("share_option_selected",g,null,null);a==="message"&&new(c("MSiteMessengerDiodeTypedLogger"))().setMessagingEntryPoint("feed_story_share_as_message").log();b===60&&this._logWatchGrowthOutboundSharing(a,e,f)},_logWatchGrowthOutboundSharing:function(a,b,d){var e=null;switch(a){case"message":e="messenger";break;case"whatsapp_message":e="whatsapp";break;case"moreoptions":e="unknown";break}if(e!=null){a=b.startsWith("/")?"https://www.facebook.com"+b:b;b={destination:e,is_watch_eligible:1,source:"Watch",target_id:d,target_type:"post",url:a};c("MarauderLogger").log("watch_growth_outbound_share",void 0,b)}},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return"unknown";switch(this._currentShareMode){case"friend":return"friend_timeline";case"group":return"group";case"message":return"messenger";case"page":case"selfpage":return"page";case"self":case"own":return c("getShareAudienceFromPrivacyString")(a.value);default:return"unknown"}},onShareAbandoned:function(){var a=null,b=null,e=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var f=this._getShareTextArea();f&&(b=c("calculateShareSignificance")(f.value));e=this._getAudienceFromCurrentState()}d("ShareMetricsLoggingController").log("share_abandoned",a,e,b);this._initShareMode=null;this._currentShareMode=null}};b=a;g["default"]=b}),98);
__d("ExternalShareTrackingEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743606");b=d("FalcoLoggerInternal").create("external_share_tracking_event",a);e=b;g["default"]=e}),98);
__d("ExternalShareTracker",["ExternalShareTrackingConfig","ExternalShareTrackingEventFalcoEvent","Random","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){if(!h())return a;a=a.addQueryData((a={},a[c("ExternalShareTrackingConfig").shareParam]=i(),a));j(a,b,d,e);return a}function h(){return c("gkx")("1136644")}function i(){var a="",b=c("ExternalShareTrackingConfig").characterSet,e=b.length;for(var f=0;f<c("ExternalShareTrackingConfig").idSize;f++)a+=b.charAt(d("Random").uint32()%e);return a}function j(a,b,d,e){var f={url:a.toString(),entry_point:b,content_location:d,intent:e};c("ExternalShareTrackingEventFalcoEvent").log(function(){return f})}g.maybeAppendTrackingParam=a;g._shouldAppendExternalShareParam=h;g._genExternalTrackingID=i;g._logData=j}),98);
__d("MShareToWhatsapp",["URI","goURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i="https://api.whatsapp.com/send",j="text";function a(a){a=new(h||(h=c("URI")))(i).addQueryData(j,a);c("goURI")(a)}g.WhatsappSendApiString=i;g.WhatsappSendApiParam=j;g.sendToWhatsapp=a}),98);
__d("XMessengerMSiteShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/diode/",{feedback_referrer:{type:"String"},feedback_source:{type:"Int"},internal_preview_image_id:{type:"Int"},key_link:{type:"String"},key_mode:{type:"String"},messaging_entry_point:{type:"Enum",enumType:1},post_fbid:{type:"IntOrPFBID",required:!0},redirector_fbid:{type:"Int"}})}),null);
__d("MShareFlyout",["cx","fbt","ExternalShareTracker","MComposerEntry","MComposition","MCompositionShareFields","MDOM","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRedirectToNative","MRequest","MShareToWhatsapp","MVector","MViewport","NTAnnounceSubscription","Stratcom","URI","XMessengerMSiteShareDialogController","clearTimeout","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k="mufi-inline",l="oneClickShareResult",m=6e3,n="page_share_content_action",o="/a/sharer.php",p="/sharer-dialog.php",q,r,s,t,u,v,w,x,y={},z={},A=[],B,C,D,E,F,G,H,I=null,J,K,L,M;function a(a,b,d,e,f,g){if(q)return;Z();B=b;q=a;r=a.getRoot();C=d;I=g;b=e||{};J=b.bluebarNoOverlapBuffer;H=e.isHardDiodeEnabled;G=e.shareOptionOrder;c("MModalDialog").init();c("MFeedShareAnalytics").init();ca(f)}function b(a){return}function N(a,b){b===void 0&&(b=null),c("MFeedShareAnalytics").onMenuOptionSelected(a,v,b,t),K=!0}function O(a){c("MModalDialog").isOpen()?c("MModalDialog").load(a):c("MModalDialog").open(a,P)}function P(a){!!a&&a.canceled&&c("MFeedShareAnalytics").onShareAbandoned()}function Q(){var a=q.getContext(),b=a!=null?d("MLegacyDataStore").get(a).is_acting_as_page:L;a=a!=null?d("MLegacyDataStore").get(a).voice_hash:M;var e=new(c("MRequest"))(o);e.setMethod("POST");e.addData({m:"oneclick",privacyx:B,sid:t,shareID:t,fs:v,fr:w,internal_preview_image_id:s,should_share_post:F,direct:!0,_ft_:x,paipv:b,eav:a});e.send();N("oneclick");q.hide()}function R(){if(C){var a={};a.ID=t;a.FEEDBACK_SOURCE=v;a[c("MCompositionShareFields").FEEDBACK_REFERRER]=w;var b={};b.composer_type="share";b.composertitle=i._("Share");b.contextualmessage=i._("Share on your timeline");b.placeholder=i._("Write something...");b.disable_photos=!0;var e=c("MViewport").getScrollTop();c("MComposerEntry").invoke(new(c("MComposition"))().setStoreData("CONFIG",b).setStoreData("SHARE",a),null,null,null,null,I)["finally"](function(){return c("MViewport").scrollTo(0,e)})}else{b=q.getContext();a=b!=null?d("MLegacyDataStore").get(b).is_acting_as_page:L;b=b!=null?d("MLegacyDataStore").get(b).voice_hash:M;O(new(j||(j=c("URI")))(p).setQueryData({fs:v,fr:w,sid:t,_ft_:x,internal_preview_image_id:s,paipv:a,eav:b}).toString());N("self");q.hide()}}function S(a){O(new(j||(j=c("URI")))(p).setQueryData({fs:v,fr:w,m:a,sid:t,_ft_:x,internal_preview_image_id:s,selected_page_id:E}).toString()),N(a),q.hide()}function T(){var a=c("XMessengerMSiteShareDialogController").getURIBuilder().setString("feedback_referrer",w).setInt("feedback_source",v).setInt("internal_preview_image_id",s).setString("key_link",window.location.href).setString("key_mode","message").setInt("post_fbid",t).setInt("redirector_fbid",D).setEnum("messaging_entry_point","feed_story_share_as_message").getURI();H?d("MRedirectToNative").redirect(a,{newTab:!0}):new(c("MRequest"))(a).send();N("message",u);q.hide()}function U(){var a=new(j||(j=c("URI")))(u);if(u.startsWith("/")){var b,e="scmts",f="scwspsdd";a=new(j||(j=c("URI")))("https://www.facebook.com"+u).addQueryData((b={},b[e]=f,b))}e=d("ExternalShareTracker").maybeAppendTrackingParam(a,"sdd",v,"share_to_whatsapp").toString();V(e,a.toString())}function V(a,b){d("MShareToWhatsapp").sendToWhatsapp(a),N("whatsapp_message",b),q.hide()}function W(a){if(typeof navigator.share!=="function"){q.hide();return}u=aa(u);X(u,u)}function X(a,b){a={url:a};navigator.share(a).then(function(){})["catch"](function(a){});N("moreoptions",b);q.hide()}function aa(a){a+=a.includes("?")?"&":"?";a+="sfnsm=mo";return a}function ba(a,b){a=b&&b.is_comment_share;b=["share-more-options-button","share-in-a-group-button","share-to-page-button","share-with-message-button"];a&&!y[t]?(Y("share-one-click-button",!1),Y("share-post-one-click-button",!1)):F?(Y("share-one-click-button",!1),b.push("share-post-one-click-button")):(b.push("share-one-click-button"),Y("share-post-one-click-button",!1));a=q.getContext();b=a!=null?d("MLegacyDataStore").get(a).is_acting_as_page:L;if(b){a=["share-to-page-button"];G.map(function(a){return Y(a,!1)});a.map(function(a){return Y(a,!0)})}else G.map(function(a){return Y(a,!0)})}function e(a,b){var c=q.getContext();c!=null?(d("MLegacyDataStore").set(c,{is_acting_as_page:a,voice_hash:b}),L=null,M=null):(L=a,M=b)}function Y(a,b){a=document.getElementById(a);a!==null&&(a.style.display=b?"":"none")}function ca(a){var b;A=[q.addListener("beforeshow",function(){if(J!=null){var b=c("MViewport").getScrollTop();b<J&&c("ge")("header")?q.setAutoflipTopOffset(J-b):q.setAutoflipTopOffset(0)}b=q.getContext();var e=d("MLegacyDataStore").get(b);F=e.reshare_post;t=e&&e.share_id;v=e&&e.feedback_source;w=e&&e.feedback_referrer;s=e&&e.internal_preview_image_id;u=e&&e.shareable_uri;D=e&&e.user_id;var f=d("MParent").bySigil(b,"story-div");a?x=a:x=f?d("MLegacyDataStore").get(f).linkdata:null;t&&(y[t]=da(b));L!=null&&(d("MLegacyDataStore").set(b,{is_acting_as_page:L}),L=null);M!=null&&(d("MLegacyDataStore").set(b,{voice_hash:M}),M=null);c("MFeedShareAnalytics").onMenuOpened();K=!1;ba(r,e)}),q.addListener("hide",function(){K||c("MFeedShareAnalytics").onShareAbandoned()}),(b=c("Stratcom")).listen("click","share-one-click-button",Q),b.listen("click","share-post-one-click-button",Q),b.listen("click","share-with-message-button",R),b.listen("click","share-in-a-private-message-button",T),b.listen("click","share-to-whatsapp",U),b.listen("click","share-to-page-button",function(){S("page")}),b.listen("click","share-in-a-group-button",function(){S("group")}),b.listen("click","share-more-options-button",function(){W(u)}),b.listen("m:page:unload",null,Z),d("NTAnnounceSubscription").subscribe(n,function(a){a=JSON.parse(a),t=a.content_id,E=a.page_id,S("page")})]}function Z(){q=null;for(var a in z)c("clearTimeout")(z[a]);z={};while(A.length){a=A.pop();a&&a.remove&&a.remove()}}function da(a){if(!a||a===document||a instanceof DocumentFragment)return null;return c("Stratcom").hasSigil(a,k)?a:d("MParent").bySigil(a,k)}function $(a,b){var d=c("MDOM").scry(a,"div",l);d[0]&&c("MDOM").remove(d[0]);d=c("MDOM").create("div",{className:"_4_m7"},b);c("Stratcom").addSigil(d,l);c("MDOM").appendContent(a,d);return d}function f(b,a){var e=y[a];delete y[a];if(!e)return;var f=$(e,b);b=d("MVector").getPos(e);e=d("MVector").getDim(e).y;var g=c("MViewport").getScrollTop(),h=c("MViewport").getScrollHeight();(b.y<g||b.y+e>g+h)&&c("MViewport").scrollTo(b.x,b.y-250);z[a]=c("setTimeoutAcrossTransitions")(function(){delete z[a],c("MDOM").remove(f)},m)}function h(b,a){var e=y[a];delete y[a];if(!e)return;if(d("MVector").getPos(e).y>=c("MViewport").getScrollTop()){var f=$(e,b);z[a]=c("setTimeoutAcrossTransitions")(function(){delete z[a],d("MVector").getPos(e).y>=c("MViewport").getScrollTop()&&c("MDOM").remove(f)},m)}}a={init:a,initMisinfo:b,onSuccess:h,onFailure:f,setVoiceValidationParams:e};g["default"]=a}),98);
__d("MLoadTimeOutBanner",["Stratcom","clearTimeout","qex","setTimeout"],(function(a,b,c,d,e,f,g){function h(a){a=document.getElementById(a);a&&(c("qex")._("389"),a.style.display="inherit")}function a(a,b){var d=c("setTimeout")(h.bind(null,a),b);c("Stratcom").listen("m:page:unload",null,function(){c("Stratcom").removeCurrentListener(),c("clearTimeout")(d),window.disableInlinedPopUpBanner=!0})}g.init=a}),98);
__d("MUFIComposerFocus",["MDOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h="mufi-composer-focus",i;function j(a){a=a;var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function k(a,b){var c=Math.min(a.length,b.length)-1;for(c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function l(a){if(!a)return null;var b=d("MParent").bySigil(a,"story-div")||d("MParent").bySigil(a,"snowflake-root")||d("MParent").bySigil(a,"notes-root");if(!b)return null;b=d("MDOM").scry(b,"*","mufi-composer").filter(function(a){return!d("MParent").bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=j(a);a=b.reduce(function(a,b,d){d=j(b);d=k(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function m(a){var b=a.getNode(h);if(!(b instanceof HTMLElement))return;b=l(b);b&&(a.prevent(),b.focus())}function a(a){if(!a||!i)return!1;a=c("Stratcom").hasSigil(a,h)?a:d("MParent").bySigil(a,h);return!!l(a)}function n(a){a=a.getNode(h);if(!(a instanceof HTMLElement))return;var b=l(a);if(b){var c=d("MParent").bySigil(a,"touchable");c&&(d("MLegacyDataStore").get(c).nativeClick=!0);c=d("Parent").byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+d("MDOM").uniqID(b))}}function b(){i||(c("Stratcom").listen("touchstart",h,n),c("Stratcom").listen("click",h,m),i=!0)}e=function(){return i};g.isComposerFocusTrigger=a;g.init=b;g.isInitialized=e}),98);
__d("MUFILikeButton",["cx","ActorURI","FBLogger","MCSS","MEvent","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f,g,h){var i={is_like:1},j={is_like:0};a=function(){function a(a,b,e,f){var g=this;this.onKeyPress=function(a){(a.code==="Enter"||a.code==="Space")&&g.onClick(a)};this.onMouseUp=function(a){a.srcElement instanceof HTMLElement&&a.srcElement.blur()};this.onUnload=function(){g.$3.release(),g.$3=null};this.$1=a;this.$2=d("MLiveData").get(b);this.$4=b;this.$5=e||{log:c("emptyFunction")};this.$6=f;this.$7=d("MUFIReactionsUtils").getConfigForBackgroundRetry(b);this.$3=new(c("SubscriptionsHandler"))();this.$3.addSubscriptions(c("MEvent").listen(this.$1,"click",this.onClick.bind(this)),c("MEvent").listen(this.$1,"keypress",this.onKeyPress.bind(this)),c("MEvent").listen(this.$1,"mouseup",this.onMouseUp.bind(this)),this.$2.listen("change",this.onChange.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var b=a.prototype;b.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;c("MCSS").conditionClass(this.$1,"_77la",a);c("Stratcom").removeSigil(this.$1,a?"like":"unlike");c("Stratcom").addSigil(this.$1,a?"unlike":"like")};b.getFeedbackData=function(){var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};b.getRequestData=function(){return null};b.onClick=function(a){a.preventDefault();a=a.target;if(!a||!(a instanceof Element))return;a=d("MUFIRequest").getURI(a.getAttribute("href")||a.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);var b=d("MParent").bySigil(this.$1,"feed-ufi-metadata");if(b){b=d("MLegacyDataStore").get(b).actor_id;b&&(a=d("ActorURI").create(a,String(b)))}else c("FBLogger")("mobile_web_ufi","feed_ufi_metadata_missing").warn("Actor ID data store not available. Making request without actor id.");d("MUFIRequest").send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",void 0,this.$2.getData().has_viewer_liked?j:i)};return a}();g["default"]=a}),98);
__d("MUFIReactionButton",["cx","fbt","MCSS","MDOM","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","createIxElement"],(function(a,b,c,d,e,f,g,h,i){var j=1,k="1635855486666999",l=0,m=17,n=16;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,i){h=a.call(this,b,c,e,f)||this;h.$MUFIReactionButton$p_1=b;h.$MUFIReactionButton$p_2=d("MLiveData").get(c);h.$MUFIReactionButton$p_3=c;h.$MUFIReactionButton$p_4=f;h.$MUFIReactionButton$p_5=g||n;b.href&&b.setAttribute("data-uri",b.href);b.removeAttribute("href");return h}var e=b.prototype;e.onChange=function(){var a=this.$MUFIReactionButton$p_2.getData();if(a.request_id===this.$MUFIReactionButton$p_4)return;var b,e,f=a.viewerreaction,g=a.viewerreactionid,h=!!f;f&&!c("UFIReactionTypes").reactions[f]&&(f=null);if(!g||!f)b="inherit",e=i._("Like");else{var k=null;a=a.ufireactioniconsbyid;if(f!==j){var l=null;f===m?l=a[g][this.$MUFIReactionButton$p_5]:l=c("UFIReactionIcons")[f][this.$MUFIReactionButton$p_5];l||(f===m?l=a[g][n]:l=c("UFIReactionIcons")[f][n]);k=c("createIxElement")(l);c("MCSS").addClass(k,"_4h-b")}b=c("UFIReactionTypes").reactions[f].color;a=c("UFIReactionTypes").reactions[f].display_name;e=[k,a]}d("MDOM").setContent(this.$MUFIReactionButton$p_1,e);this.$MUFIReactionButton$p_1.setAttribute("aria-pressed",h);c("MCSS").conditionClass(this.$MUFIReactionButton$p_1,"_77ld",h&&f!==j);c("MCSS").conditionClass(this.$MUFIReactionButton$p_1,"_77la",h&&f===j);c("Style").set(this.$MUFIReactionButton$p_1,"color",b);c("Stratcom").removeSigil(this.$MUFIReactionButton$p_1,h?"like":"unlike");c("Stratcom").addSigil(this.$MUFIReactionButton$p_1,h?"unlike":"like");c("Stratcom").invoke("ufi/reactionButtonClicked",null,this.getRequestData())};e.getFeedbackData=function(){var a=this.$MUFIReactionButton$p_2.getData();return d("MUFIReactionsUtils").getReactionData(a,a.has_viewer_liked||a.viewerreaction?l:j,a.has_viewer_liked||a.viewerreaction?null:k)};e.getRequestData=function(){var a=this.$MUFIReactionButton$p_2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?l:j,ft_ent_identifier:a.ft_ent_identifier}};e.onClick=function(b){if(c("Stratcom").hasSigil(this.$MUFIReactionButton$p_1,"kaios-like-react-trigger")){var d=this.$MUFIReactionButton$p_2.getData();d.viewerreaction&&b.stopPropagation()}a.prototype.onClick.call(this,b)};return b}(c("MUFILikeButton"));g["default"]=a}),98);