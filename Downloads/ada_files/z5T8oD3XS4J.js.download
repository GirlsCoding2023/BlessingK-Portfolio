;/*FB_PKG_DELIM*/

__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){a=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",PAGE_RECOMMENDATIONS:"PAGE_RECOMMENDATIONS",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW"});f["default"]=a}),66);
__d("MComposition",["invariant","MCompositionStoreID"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}var c=a.prototype;c.serialize=function(){return this.$1};c.$2=function(a){Object.prototype.hasOwnProperty.call(b("MCompositionStoreID"),a)||g(0,11921,a)};c.setStoreData=function(a,b){this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&g(0,11922,a);this.$1[a]=b;return this};return a}();e.exports=a}),null);
__d("MComposerPresence",["invariant","$","EventEmitter","MDOM","MLegacyDataStore"],(function(a,b,c,d,e,f,g){var h="REGISTERED",i=null,j=new(b("EventEmitter"))();a={addRegistrationListener:function(a){return j.addListener(h,a)},hasRegisteredInstance:function(){return!!i},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:b("MDOM").scry(b("MDOM").find(b("$")("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(c){return b("MLegacyDataStore").get(c).value===a})},register:function(a){i&&g(0,5767),i=a,j.emit(h)},unregister:function(a){i===a||g(0,5768),i=null},cleanup:function(){i!==null&&i.cleanup()}};e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["MComposerPresence","MRequest","Promise"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){this.$1=null,this.$2=null,this.$3=null}var c=a.prototype;c.$4=function(){this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};c.$5=function(a){var c=this;return new(g||(g=b("Promise")))(function(d,e){c.$1=b("MComposerPresence").addRegistrationListener(d),c.$3=new(b("MRequest"))(a),c.$3.setAutoRetry(!1),c.$3.listen("fail",e),c.$3.send()})};c.send=function(a){var b=this;this.$2||(this.$2=this.$5(a),this.$2["finally"](function(){return b.$4()}));return this.$2};return a}();e.exports=a}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"},actorid:{type:"Int"},photo_url:{type:"String"},video_url:{type:"String"},attachment_id:{type:"String"}})}),null);
__d("MComposerEntry",["ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerPresence","MComposition","MLegacyDataStore","Promise","Stratcom","XComposerAsyncLoaderController"],(function(a,b,c,d,e,f){var g,h,i=new(g||(g=b("Promise")))(function(a,b){return b()}),j=new g(function(a){return a()}),k=(h||(h=b("ErrorUtils"))).guard(function(a){if(a)throw a},"MComposerEntry");function a(a){if(p)return;q.invoke(new(b("MComposition"))(b("MLegacyDataStore").get(a.getNode("composer_entry_trigger")).COMPOSITION))}function l(a,c,d,e,f){e===void 0&&(e=!0);p=!0;var g=null;b("MComposerPresence").hasRegisteredInstance()?g=o(a,d):g=n(a,c,e).then(function(){var b=!0;f&&(b=f());if(b)return o(a,d)},k);g["finally"](function(){return p=!1});return g}function m(a,c){return b("MComposerPresence").hasRegisteredInstance()?j:new(b("MComposerAsyncLoadRequest"))().send(c)}function n(a,c,d){d===void 0&&(d=!0);d&&b("LoadingIndicator").show();a=m(a,c);d&&a["finally"](function(){return b("LoadingIndicator").hide()});return a}function o(a,c){return new(g||(g=b("Promise")))(function(d,e){var f={};f.COMPOSITION=a.serialize();f.ON_CANCEL=e;f.ON_SUBMIT=d;f.ON_OPEN=c;b("Stratcom").invoke("MComposer:entry:js",null,f)})}var p=!1;b("XComposerAsyncLoaderController").getURIBuilder().getURI();b("Stratcom").listen("click","composer_entry_trigger",a);b("Stratcom").listen("m:page:unload",null,function(){p=!1});var q={invoke:function(a,c,d,e,f,g){if(p||q.blockNavigateToComposer())return i;c=b("XComposerAsyncLoaderController").getURIBuilder().setInt("targetid",c);d!==void 0&&(c=c.setString("photo_url",d));e!==void 0&&(c=c.setString("video_url",e));f!==void 0&&(c=c.setString("attachment_id",f));g!==void 0&&(c=c.setInt("actorid",g));return l(a||new(b("MComposition"))(),c.getURI())},invokeOcelot:function(a,c,d,e){if(p||q.blockNavigateToComposer())return i;var f=new(b("MComposition"))();return l(f,a,d,c,e)},blockNavigateToComposer:function(){return window.bgUploadInlineComposerCallback?window.bgUploadInlineComposerCallback():!1}};e.exports=q}),3);
__d("MOcelotComposerPlaceholderFormLoader",["Keys","MComposerEntry","MDOM","MEventListener","Stratcom","XOcelotComposerAsyncLoaderController","ge"],(function(a,b,c,d,e,f,g){var h=!1,i=!1,j,k,l,m,n=c("XOcelotComposerAsyncLoaderController").getURIBuilder().setEnum("publisher","feed").getURI();function a(a){n=c("XOcelotComposerAsyncLoaderController").getURIBuilder().setEnum("publisher",a.publisher).setFBID("target_id",a.targetId).getURI(),o(a)}function o(a){var b=c("ge")("composer-async-loader-root");if(!b){a.elementsParams.forEach(function(a){c("MEventListener").listen(a.element,"click",function(){c("MComposerEntry").invokeOcelot(n,!0,a.onOpenAction)})});return}j=c("ge")("viewport");l=c("MDOM").find(b,"div","composer-submitting");k=c("MDOM").find(b,"textarea","composer-placeholder-textarea");m=c("MDOM").find(b,"form","composer-placeholder-form");b=c("MDOM").find(m,"div","cancel_composer");var d=[c("MEventListener").listen(b,"click",function(){r()}),c("MEventListener").listen(m,"submit",function(a){if(k.value.length===0){a.preventDefault();return!1}i=!0;c("MDOM").show(l);return!0}),c("Stratcom").listen("click","show_composer",function(){q(a.autoFocus),c("MComposerEntry").invokeOcelot(n,!1,"status",function(){c("Stratcom").invoke("MOcelotComposerPrivacyFormLoader::removeListeners");return h})})];m.style.display!=="none"&&(h=!0,i=!1,c("MComposerEntry").invokeOcelot(n,!1,"status",function(){c("Stratcom").invoke("MOcelotComposerPrivacyFormLoader::removeListeners");return h}));var e=[];a.elementsParams.forEach(function(b){b.element.onclick=null,e.push(c("MEventListener").listen(b.element,"click",function(){p(a,b.onOpenAction)})),e.push(c("MEventListener").listen(b.element,"keydown",function(d){(d.keyCode===c("Keys").RETURN||d.keyCode===c("Keys").SPACE)&&p(a,b.onOpenAction)}))});c("Stratcom").listen(["MOcelotComposerPrivacyFormLoader::removeListeners","m:page:unload"],null,function(){d.forEach(function(a){return a.remove()}),c("Stratcom").removeCurrentListener()});c("Stratcom").listen(["m:page:unload"],null,function(){e.forEach(function(a){return a.remove()})})}function p(a,b){if(c("MComposerEntry").blockNavigateToComposer())return;q(a.autoFocus);i=!1;c("MComposerEntry").invokeOcelot(n,!1,b,function(){c("Stratcom").invoke("MOcelotComposerPrivacyFormLoader::removeListeners");return h})}function q(a){h=!0,c("MDOM").show(m),c("MDOM").hide(j),c("MDOM").hide(l),a&&k.focus()}function r(){if(i)return;h=!1;c("MDOM").show(j);c("MDOM").hide(m)}g.initElements=a}),98);
__d("MRedirectToNative",["MEvent","MPageController","QE2Logger","URI","goURI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=null;function k(){j&&(j.remove(),j=null)}function l(){if(i)return;i=!0;d("QE2Logger").logExposureForUser("mtouch_messenger_diode_post_return")}function m(){l(),k(),c("setTimeoutAcrossTransitions")(function(){d("MPageController").load("/home.php")},5)}function n(){j=c("MEvent").listen(window,"blur",function(){k(),m()}),c("setTimeoutAcrossTransitions")(k,5e3)}function a(a,b){l();k();if(b&&b.returnToFeed===!0){b=!!b.newTab;var d=a.toString();n();b?(h||(h=c("URI"))).goURIOnNewWindow(d):c("goURI")(d)}else a.go()}function b(a,b){b=!!(b&&b.returnToFeed===!0);b&&a.setAttribute("target","_blank");b=b?n:l;c("MEvent").listen(a,"click",b)}g.redirect=a;g.setReturnToFeed=b}),98);
__d("MSiteMessengerDiodeTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBadgeCount=function(a){this.$1.badge_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExtra=function(a){this.$1.extra=a;return this};c.setMessagingEntryPoint=function(a){this.$1.messaging_entry_point=a;return this};c.setMsiteDiodeStateFromClient=function(a){this.$1.msite_diode_state_from_client=a;return this};c.setUnreadCount=function(a){this.$1.unread_count=a;return this};return a}();c={badge_count:!0,event:!0,exception_object:!0,extra:!0,messaging_entry_point:!0,msite_diode_state_from_client:!0,unread_count:!0};f["default"]=a}),66);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/log/",{log:{type:"Bool",defaultValue:!1}})}),null);
__d("MessagesJewelNativeAppRedirect",["$","MDOM","MEvent","MHistory","MJewels","MRedirectToNative","MRequest","MSiteMessengerDiodeTypedLogger","Run","Stratcom","URI","XMSiteDiodeMessengerLoggingController","ge","qex"],(function(a,b,c,d,e,f,g){var h;function i(a){function b(b){b.getData().jewel==="messages"&&a()}c("Stratcom").listen("m:jewel:flyout:open",null,b)}function j(a){var b=c("$")("MChromeHeader"),e=d("MDOM").find(b,"div","messages");if(!e)return;b=d("MDOM").find(e,"*","icon");c("MEvent").listen(b,"click",function(){var b=c("ge")("peek_state_avatar",e,"div");(b===null||b.style.display==="none")&&a()})}function k(a,b,e,f,g,i,j,k){i=c("XMSiteDiodeMessengerLoggingController").getURIBuilder().setBool("log",!0).getURI();new(c("MRequest"))(i).send();k=!!(k&&!g);if(e){new(c("MSiteMessengerDiodeTypedLogger"))().setEvent("fast_app_switch_attempt").setMessagingEntryPoint(b).setMsiteDiodeStateFromClient(f).log();c("qex")._("144");j=new(h||(h=c("URI")))(a);d("MRedirectToNative").redirect(j,{returnToFeed:k,newTab:g});g&&c("MHistory").popSoftState(d("MJewels").MESSAGES)}}a={registerRedirect:function(a,b,c,e,f,g,h,l,m,n){var o=function(){return k(a,b,c,e,f,g,h,l)},p=function(){m?j(o):i(o)};n?d("Run").onAfterLoad(p):p()}};b=a;g["default"]=b}),98);
__d("MessengerMsiteLogEventOnClick",["EventListener","MSiteMessengerDiodeTypedLogger"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){c("EventListener").listen(a,"click",function(){try{new(c("MSiteMessengerDiodeTypedLogger"))().setEvent(b).setMessagingEntryPoint(d).log()}catch(a){}e.go()})}g.registerRedirect=a}),98);
__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,SHOWCASE:10,FB_SHORTS:11,TRENDING:12,ENGAGEMENT_QP:13,MULTI_FB_STORIES_TRAY:14});f["default"]=a}),66);
__d("MAdAllocationIntegrityGapsInfo",["FeedStoryCategory"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.story_category=a,this.dist_to_top=-1,this.dist_to_fixed=-1,this.dist_to_promo=-1,this.dist_to_sponsored=-1,this.dist_to_engagement=-1}var b=a.prototype;b.setDistToTop=function(a){this.dist_to_top=a};b.setDistIfAbsent=function(a,b){if(b<0||a===c("FeedStoryCategory").UNKNOWN||a===c("FeedStoryCategory").ORGANIC)return;switch(a){case c("FeedStoryCategory").ENGAGEMENT:this.dist_to_engagement=this.$1(b,this.dist_to_engagement);break;case c("FeedStoryCategory").FIXED_POSITION:this.dist_to_fixed=this.$1(b,this.dist_to_fixed);break;case c("FeedStoryCategory").PROMOTION:this.dist_to_promo=this.$1(b,this.dist_to_promo);break;case c("FeedStoryCategory").SPONSORED:this.dist_to_sponsored=this.$1(b,this.dist_to_sponsored);break}};b.$1=function(a,b){return b===-1?a:b};return a}();g["default"]=a}),98);
__d("MAdAllocationIntegrityUtils",["DataAttributeUtils","FeedStoryCategory","MFBJSON"],(function(a,b,c,d,e,f,g){"use strict";var h="data-story_category",i="data-dedupekey";function a(a){var b=d("MFBJSON").parse(a.getAttribute("data-ft"),f.id);a=c("DataAttributeUtils").getDataAttribute(a,h);if(a)switch(a){case"2":return c("FeedStoryCategory").ENGAGEMENT;case"3":return c("FeedStoryCategory").FIXED_POSITION;case"4":return c("FeedStoryCategory").PROMOTION;default:return c("FeedStoryCategory").UNKNOWN}else if("ei"in b)return c("FeedStoryCategory").SPONSORED;else return c("FeedStoryCategory").ORGANIC}function b(a){if(a===c("FeedStoryCategory").SPONSORED||a===c("FeedStoryCategory").ENGAGEMENT||a===c("FeedStoryCategory").FIXED_POSITION||a===c("FeedStoryCategory").PROMOTION)return!0;else return!1}function e(a){return c("DataAttributeUtils").getDataAttribute(a,i)}g.getFeedStoryCategory=a;g.isGapRuleCategory=b;g.getDedupKey=e}),98);
__d("WwwVpvFeedTrackingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1841521");b=d("FalcoLoggerInternal").create("www_vpv_feed_tracking",a);e=b;g["default"]=e}),98);
__d("MEntstreamViewportTracking",["DataAttributeUtils","ErrorUtils","MAdAllocationIntegrityGapsInfo","MAdAllocationIntegrityUtils","MDOM","MFBJSON","MHistory","MURI","MVector","MViewport","MViewportTracking","Stratcom","StratcomManager","WwwVpvFeedTrackingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=51,j={},k=null,l=null,m=null;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.enableCacheReadStoryIds=!1,b)||babelHelpers.assertThisInitialized(c)}b.init=function(a){d("StratcomManager").enableDispatch(document,"scroll"),new b().init(a)};var e=b.prototype;e.init=function(b){b.enable_cache_read_story_ids&&o(),a.prototype.init.call(this,b)};e.getDataFromConfig=function(a){this.enableAdsAllocationIntegrityLogging=!!a.enable_ads_allocation_integrity_logging,this.enableCacheReadStoryIds=!!a.enable_cache_read_story_ids};e.__getStreamRoot=function(){this.$MEntstreamViewportTracking$p_1||(this.$MEntstreamViewportTracking$p_1=document.getElementById("root"));return this.$MEntstreamViewportTracking$p_1};e.getFBFeedLocation=function(){return 1};e.getAllStories=function(){return d("MDOM").scry(this.__getStreamRoot(),"article","story-div")};e.getTimeout=function(){return 300};e.getDataToLog=function(a){var b=Object.assign(d("MFBJSON").parse(a.getAttribute("data-ft"),f.id),{evt:i});if(!this.isTimeTrackingEnabled){var e=d("MDOM").scry(a,"*","data-is-cta").map(function(a){a=c("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});b.cta_types=e}if(this.enableAdsAllocationIntegrityLogging){e=d("MAdAllocationIntegrityUtils").getFeedStoryCategory(a);var g=new(c("MAdAllocationIntegrityGapsInfo"))(e),h=d("MAdAllocationIntegrityUtils").getDedupKey(a);if(d("MAdAllocationIntegrityUtils").isGapRuleCategory(e)&&h!==null){e=this.getAllStories();var j=-1;for(var k=e.length-1;k>=0;k--){var l=d("MAdAllocationIntegrityUtils").getDedupKey(e[k]);if(j<0)l!==null&&h===l&&(j=k,g.setDistToTop(j+1));else{l=d("MAdAllocationIntegrityUtils").getFeedStoryCategory(e[k]);d("MAdAllocationIntegrityUtils").isGapRuleCategory(l)&&g.setDistIfAbsent(l,j-k)}}}Object.assign(b,g)}"getBoundingClientRect"in a?(l=a.getBoundingClientRect(),e=l.height,h=l.top+d("MViewport").getScrollTop()):(e=d("MVector").getDim(a).y,h=d("MVector").getPos(a).y);b.evt_value=e;b.offset=h;b.story_height=e;b.impression_type=d("MViewport").isLandscape()?"landscape":"portrait";return b};e.getStoryID=function(a){a=a.getAttribute("data-ft");return!a?null:d("MFBJSON").parse(a,f.id).mf_story_key};e.sendDataToLog=function(a){c("WwwVpvFeedTrackingFalcoEvent").log(function(){return{tracking:JSON.stringify(a)}})};e.onUnload=function(){a.prototype.onUnload.call(this);if(!this.enableCacheReadStoryIds||!l)return;j[l]=this.readStoryIDs};e.getCachedReadStoryIDs=function(){if(!this.enableCacheReadStoryIds||!l)return;return m===l?null:j[l]||null};return b}(c("MViewportTracking"));function n(a){var b=a||c("MHistory").getPath();return b?(h||(h=c("ErrorUtils"))).guard(function(){return new(c("MURI"))(b).normalize().getPath().toLowerCase()})():null}function o(){k||(k=c("Stratcom").listen("m:page:request-sent",null,function(a){if(a&&a.getData){a=n(a.getData().path);a&&(delete j[a],m=a)}})),l=n()}g["default"]=a}),98);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdID=function(a){this.$1.ad_id=a;return this};c.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};c.setContainerAdID=function(a){this.$1.container_ad_id=a;return this};c.setEntity=function(a){this.$1.entity=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setNfxStoryLocation=function(a){this.$1.nfx_story_location=a;return this};c.setProductLocation=function(a){this.$1.product_location=a;return this};c.setReportReason=function(a){this.$1.report_reason=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={ad_id:!0,ads_page_type:!0,container_ad_id:!0,entity:!0,event:!0,exception:!0,nfx_story_location:!0,product_location:!0,report_reason:!0,session_id:!0};f["default"]=a}),66);
__d("MReportAdLoggingEvents",["AdsTransparencyReportAdTypedLogger","EventListener"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){c("EventListener").listen(a,"click",function(){new(c("AdsTransparencyReportAdTypedLogger"))().setEvent("click").setAdID(b).setEntity(d).setSessionID(e).setProductLocation(g).setAdsPageType(f).log()})}g.registerMenuItemClick=a}),98);
__d("MCompositionShareFields",[],(function(a,b,c,d,e,f){a=Object.freeze({ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE",MSITE_PHOTO_URL:"MSITE_PHOTO_URL",MSITE_VIDEO_URL:"MSITE_VIDEO_URL",ATTACHMENT_ID:"ATTACHMENT_ID"});f["default"]=a}),66);